<div class="pending-container">
  <h1>ðŸ“‹ OpÃ©rations en attente</h1>

  <app-loading-spinner *ngIf="isLoading" [isLoading]="true" message="Chargement...">
  </app-loading-spinner>

  <table *ngIf="!isLoading && operations.length > 0">
    <thead>
      <tr>
        <th>Date</th>
        <th>Client</th>
        <th>Type</th>
        <th>Montant</th>
        <th>Justificatif</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let op of operations">
        <td>{{ op.createdAt | dateFormat }}</td> <!-- âœ… Ajout de la date -->
        <td>{{ op.clientEmail || op.accountSource }}</td> <!-- âœ… Ajout du client -->
        <td>{{ op.type }}</td>
        <td>{{ op.amount | currencyFormat }}</td>
        <td>
          <button class="btn btn-doc" (click)="downloadDocument(op.id)">
            ðŸ“„ Voir TEST ({{ op.id }})
          </button>


          <span *ngIf="!op.hasDocument && !op.justificatifPath"></span>
        </td>
        <td class="actions">
          <button class="btn approve" (click)="approve(op.id)">âœ” Approuver</button>
          <button class="btn reject" (click)="reject(op.id)">âœ– Rejeter</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!isLoading && operations.length === 0">
    Aucune opÃ©ration en attente
  </p>
</div>