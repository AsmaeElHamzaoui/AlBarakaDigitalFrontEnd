<div class="pending-container">
  <h1>ðŸ“‹ OpÃ©rations en attente</h1>

  <app-loading-spinner
    *ngIf="isLoading"
    [isLoading]="true"
    message="Chargement...">
  </app-loading-spinner>

  <table *ngIf="!isLoading && operations.length > 0">
    <thead>
      <tr>
        <th>Date</th>
        <th>Client</th>
        <th>Type</th>
        <th>Montant</th>
        <th>Justificatif</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let op of operations">
        <td>{{ op.dateOperation | dateFormat:'datetime' }}</td>
        <td>{{ op.clientEmail }}</td>
        <td>{{ op.type }}</td>
        <td>{{ op.montant | currencyFormat }}</td>
        <td>
          <button
            *ngIf="op.justificatifPath"
            class="btn btn-doc"
            (click)="downloadDocument(op.id)">
            ðŸ“„ Voir
          </button>
          <span *ngIf="!op.justificatifPath">-</span>
        </td>
        <td class="actions">
          <button class="btn approve" (click)="approve(op.id)">âœ”</button>
          <button class="btn reject" (click)="reject(op.id)">âœ–</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!isLoading && operations.length === 0">
    Aucune opÃ©ration en attente
  </p>
</div>
