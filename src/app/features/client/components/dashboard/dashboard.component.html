<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Tableau de bord</h1>
    <p class="subtitle">Bienvenue sur votre espace client Al Baraka Digital</p>
  </div>

  <!-- Alert d'erreur -->
  <app-alert *ngIf="showError" type="error" [message]="errorMessage" [dismissible]="true" (closed)="showError = false">
  </app-alert>

  <!-- Informations du compte -->
  <div class="account-card">
    <app-loading-spinner *ngIf="isLoadingAccount" [isLoading]="true" message="Chargement des informations du compte...">
    </app-loading-spinner>

    <div *ngIf="!isLoadingAccount && account" class="account-content">
      <div class="account-header">
        <h2>Mon Compte</h2>
        <span class="account-number">{{ account.numeroCompte }}</span>
      </div>

      <div class="account-balance">
        <span class="balance-label">Solde disponible</span>
        <span class="balance-amount">{{ account.solde | currencyFormat:account.devise }}</span>
      </div>

      <div class="account-actions">
        <a routerLink="/client/operations/deposit" class="btn btn-deposit">
          ğŸ’° DÃ©pÃ´t
        </a>
        <a routerLink="/client/operations/withdrawal" class="btn btn-withdrawal">
          ğŸ’¸ Retrait
        </a>
        <a routerLink="/client/operations/transfer" class="btn btn-transfer">
          ğŸ”„ Virement
        </a>
      </div>
    </div>
  </div>

  <!-- OpÃ©rations rÃ©centes -->
  <div class="operations-card">
    <div class="card-header">
      <h2>OpÃ©rations rÃ©centes</h2>
      <a routerLink="/client/operations" class="link-view-all">Voir tout â†’</a>
    </div>

    <app-loading-spinner *ngIf="isLoadingOperations" [isLoading]="true" message="Chargement des opÃ©rations...">
    </app-loading-spinner>

    <div *ngIf="!isLoadingOperations" class="operations-list">
      <div *ngIf="recentOperations.length === 0" class="no-operations">
        <p>Aucune opÃ©ration rÃ©cente</p>
        <a routerLink="/client/operations" class="btn btn-primary">Effectuer une opÃ©ration</a>
      </div>

      <div *ngFor="let operation of recentOperations" class="operation-item">
        <div class="operation-icon" [ngClass]="operation.type.toLowerCase()">
          {{ operation.type === 'DEPOT' ? 'ğŸ’°' : operation.type === 'RETRAIT' ? 'ğŸ’¸' : 'ğŸ”„' }}
        </div>

        <div class="operation-details">
          <span class="operation-type">{{ operation.type }}</span>
          <span class="operation-date">{{ operation.dateOperation | dateFormat:'datetime' }}</span>
        </div>

        <div class="operation-amount">
          <span class="amount">{{ operation.montant | currencyFormat }}</span>
          <span class="status" [ngClass]="getStatusClass(operation.statut)">
            {{ getStatusLabel(operation.statut) }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Statistiques -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">ğŸ“Š</div>
      <div class="stat-content">
        <span class="stat-label">OpÃ©rations totales</span>
        <span class="stat-value">{{ recentOperations.length }}</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">â³</div>
      <div class="stat-content">
        <span class="stat-label">En attente</span>
        <span class="stat-value">{{ pendingCount }}</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">âœ“</div>
      <div class="stat-content">
        <span class="stat-label">ApprouvÃ©es</span>
        <span class="stat-value">{{ approvedCount }}</span>
      </div>
    </div>

  </div>
</div>